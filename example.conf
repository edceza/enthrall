# the "master" block sets global options and neighbors of the master node.
master {
	# remote-shell: provides the path to the ssh binary to use.
	# If not provided, the default is simply "ssh" (whatever is
	# first in $PATH).
	#
	# remote-shell = "/alternate/path/to/ssh"

	# port: if provided, this sets the argument passed to ssh's
	# "-p" flag to set the default port to connect to on remotes.
	#
	# port = 2244

	# bind-address: if specified, the given string is passed as
	# the argument to ssh's "-b" flag.  May be useful if you have
	# multiple NICs, a v4 and a v6 address on the same interface,
	# etc.
	#
	# bind-address = "2607:f8b0:4009:803::1009"

	# identity-file: if provided, sets the argument passed to
	# ssh's "-i" flag to set the default key used to authenticate
	# to remotes.
	#
	# identity-file = "~/.ssh/enthrall-key"

	# user: if provided, this sets the default argument passed to
	# ssh's "-l" flag to set the username to connect as on the
	# remote system.
	#
	# user = "jschmoe"

	# remote-command: the default path at which to find the
	# enthrall binary on the remotes.  If not provided, the
	# default is simply whatever 'enthrall' is found first in
	# $PATH.
	#
	# remote-command = "/usr/local/bin/enthrall"

	# neighbors: DIRECTION = NODE, where DIRECTION is one of left,
	# right, up, and down, and NODE is the alias (or hostname) of
	# a remote node.
	left = "foo"
	right = "bar"
	up = "baz"

	# switch-indicator: selects one of the following modes of
	# providing visual indication of active-node switching
	# (default is none):
	#
	#   dim-inactive BRIGHTNESS [DURATION NUMSTEPS]: the screens
	#   of non-active nodes are dimmed to the given fraction of
	#   their default brightness (~0.8 is probably a good starting
	#   point).  If DURATION and NUMSTEPS are specified, fade
	#   brightness transitions in NUMSTEPS steps over DURATION
	#   seconds (defaulting to 0 and 1, i.e. no fade).
	#
	#   flash-active BRIGHTNESS DURATION [NUMSTEPS]: when
	#   switching to a node, momentarily set its screen brightness
	#   to the given level (where "normal" is 1.0) for the
	#   specified time (in seconds).  If NUMSTEPS is specified,
	#   fade the flash out in the given number of steps over
	#   DURATION (defaulting to 1, i.e. no fade).
	#
	#   none: no visual node-switch indication.
	#
	# switch-indicator = dim-inactive 0.8 0.3 8
	# switch-indicator = flash-active 1.2 0.3 8

	# mouse-switch: selects one of the following mechanisms for
	# switching the active node via the mouse (default is none):
	#
	#   multi-tap COUNT WINDOW: "tap" the mouse pointer against an
	#   edge of a screen COUNT times within WINDOW seconds to
	#   switch in the corresponding direction.  If COUNT is 1,
	#   WINDOW is ignored and the mouse pointer simply slides from
	#   one node to its neighbor.  The maximum value for COUNT is
	#   determined by the macro EDGESTATE_HISTLEN if you really
	#   want to have to tap a lot of times to switch.
	#
	#   none: switch-by-mouse disabled.
	#
	# mouse-switch = multi-tap 2 0.4

	# indicate-null-switch: selects one of the following settings
	# for determining whether or not to trigger the configured
	# switch-indicator when a "null" switch is performed
	# (e.g. switch left from a node that has no left neighbor or
	# switching to an already-active node):
	#
	#   yes: do trigger switch-indicator.
	#
	#   no: do not trigger switch-indicator.
	#
	#   hotkey-only: trigger only if the null switch was performed
	#   via a hotkey, not if done via mouse-switch.
	#
	# indicate-null-switch: hotkey-only

	# hotkeys: hotkey[HOTKEY_STRING] = ACTION
	#
	# valid values for HOTKEY_STRING are system-dependent; some
	# possible examples on X11 might look like:
	#   "mod1+mod4+L"
	#   "mod1+mod4+control+Right"
	#   (etc.)
	#
	# ACTION can be one of the following:
	#
	#   switch DIRECTION (where DIRECTION is one of left, right,
	#   up, or down): switch to the given neighbor of the
	#   currently-active node.
	#
	#   switch-to NODE (where node is a string naming a remote
	#   node or master -- note that master is a keyword, not a
	#   string, and thus should not be quoted): switch directly to
	#   the given node.
	#
	#   reconnect: reset permanently-failed remotes to allow
	#   auto-reconnection to attempt to re-establish a connection.

	# arrow-key-based direction-switching
	hotkey["mod1+mod4+control+Left"] = switch left
	hotkey["mod1+mod4+control+Right"] = switch right
	hotkey["mod1+mod4+control+Up"] = switch up
	hotkey["mod1+mod4+control+Down"] = switch down

	# vi-style direction-switching
	hotkey["mod1+mod4+control+H"] = switch left
	hotkey["mod1+mod4+control+L"] = switch right
	hotkey["mod1+mod4+control+K"] = switch up
	hotkey["mod1+mod4+control+J"] = switch down

	# direct-switch keys
	hotkey["mod1+mod4+control+1"] = switch-to "foo"
	hotkey["mod1+mod4+control+2"] = switch-to master
	hotkey["mod1+mod4+control+3"] = switch-to "bar"
	hotkey["mod1+mod4+control+4"] = switch-to "baz"

	hotkey["mod1+mod4+control+R"] = reconnect
}

# a "remote" block defines a remote node with a given alias.
remote "foo" {
	# hostname: if provided, sets the network hostname to connect
	# to for this remote.  If not provided, defaults to the
	# remote's alias (e.g. "foo" in this example remote block).
	#
	# hostname = "somehost"
	# hostname = "192.168.2.4"
	hostname = "foo.mydomain.tld"

	# Each remote can also specify remote-shell, user, port,
	# bind-address, identity-file, and remote-command to provide a
	# per-remote override of the global defaults.
	#
	# remote-shell = "/alternate/path/to/ssh"
	# port = 22
	# identity-file = "~/.ssh/alternate-enthrall-key"
	# bind-address = "192.168.2.2"
	# user = "joe"
	# remote-command = "/alternate/path/to/enthrall"

	# Platform-specific remote configuration parameters are
	# specified as strings in a special unstructured 'param' map.
	# Currently the only setting that's used for anything is
	# DISPLAY to set the environment variable of the same name on
	# X11 systems, so X11 remotes should probably have something
	# like:
	#
	# param["DISPLAY"] = ":0"

	# neighbors: DIRECTION = NODE (note again that the special
	# NODE master is a keyword, not a string, so don't quote it).
	right = master
	left = "bar" # loops in the neighbor topology are allowed
}

remote "bar" {
	left = master
	right = "foo"
}

remote "baz" {
	down = master
}
